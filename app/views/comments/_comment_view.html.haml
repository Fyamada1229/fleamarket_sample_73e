%ul.content-main__comments__list
  - @comments.each do |comment|
    - if comment.user_id == current_user.id
      -# コメントユーザーとログインユーザーが同一の場合(自分のコメント)
      %li#self.content-main__comments__list__block{data:{index: comment.id}}
        = render 'comments/comment_name_self', comment: comment
        - if comment.delete_check == 1   # 仮削除済の場合
          .content-main__comments__list__block__content-self
            .content-main__comment__list__block__content__text
              出品者によりこのコメントは削除されました。
            .content-main__comments__list__block__icons
              %time.content-main__comments__list__block__icons__left
                = icon('fas content-main__comments__list__block__icons__left__time', 'clock')
                %span
                = comment.created_at.strftime("%Y年%m月%d日 %H時%M分")
        - else   # 削除されていない場合
          .content-main__comments__list__block__content-self
            .content-main__comments__list__block__content__text
              = comment.comment
            .content-main__comments__list__block__content__icons
              %time.content-main__comments__list__block__content__icons__left
                = icon('fas content-main__comments__list__block__content__icons__left__time', 'clock')
                %span
                = comment.created_at.strftime("%Y年%m月%d日 %H時%M分")
              .content-main__comments__list__block__content__icons__right
                - if comment.product.seller == current_user
                  .content-main__comments__list__block__content__icons__right__delete.self_pre_delete{data:{index: comment.id}}
                    = link_to comment_path(comment.id), method: :patch do
                      = icon('fas', 'trash')
    - else 
      -# コメントユーザーとログインユーザーが異なる場合の場合(他の人のコメント)
      %li.Other.content-main__comments__list__block{data:{index: comment.id}}
        = render 'comments/comment_name', comment: comment
        - if comment.delete_check == 1   # 削除済の場合
          .content-main__comments__list__block__content
            .content-main__comments__list__block__content__text
              出品者によりこのコメントは削除されました。
            .content-main__comments__list__block__content__icons
              %time.content-main__comments__list__block__content__icons__left
                = icon('fas content-main__comments__list__block__content__icons__left__time', 'clock')
                %span
                = comment.created_at.strftime("%Y年%m月%d日 %H時%M分")
              .content-main__comments__list__block__content__icons__right
                = link_to "#", class: "content-main__comments__list__block__icons__right__flag" do
                  = icon('far', 'flag')
        - else    # 削除されていない場合
          .content-main__comments__list__block__content
            .content-main__comments__list__block__content__text
              = comment.comment
            .content-main__comments__list__block__content__icons
              %time.content-main__comments__list__block__content__icons__left
                = icon('fas content-main__comments__list__block__content__icons__left__time', 'clock')
                %span
                = comment.created_at.strftime("%Y年%m月%d日 %H時%M分")
              .content-main__comments__list__block__content__icons__right
                = link_to "#", class: "content-main__comments__list__block__content__icons__right__flag" do
                  = icon('far', 'flag')
                - if comment.product.seller == current_user   # 出品者とログインユーザーが等しい場合
                  .content-main__comments__list__block__content__icons__right__delete.self_pre_delete{data:{index: comment.id}}
                    = link_to comment_path(comment.id), method: :patch do
                      = icon('fas', 'trash')
